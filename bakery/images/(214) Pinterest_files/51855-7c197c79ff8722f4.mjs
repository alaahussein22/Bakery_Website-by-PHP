(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[51855],{511931:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),o=(i(69895),i(76814)),s=i(883119),r=i(710159),a=i(785893);function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends n.Component{constructor(...e){super(...e),c(this,"setInputRef",(e=>{e&&(this._input=e)})),c(this,"handleKeyDown",(e=>{const{disabled:t,indexManager:i}=this.props;if(!t)switch(e.which){case o.Z.ENTER:case o.Z.NUMPAD_ENTER:e.preventDefault(),i.select();break;case o.Z.UP:e.preventDefault(),i.prev();break;case o.Z.DOWN:e.preventDefault(),i.next()}}))}componentDidMount(){this._input&&this._input.focus()}render(){const{onChange:e,value:t}=this.props;return(0,a.jsx)("div",{onKeyDown:this.handleKeyDown,role:"presentation",style:{width:"100%"},children:(0,a.jsx)(s.Um,{accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),placeholder:this.props.i18n._("Search","search bar placeholder text","search bar placeholder text"),ref:this.setInputRef,size:"lg",value:t})})}}const l=function(e){const t=(0,r.ZP)();return(0,a.jsx)(d,{...e,i18n:t})}},647637:(e,t,i)=>{i.d(t,{j:()=>s});const n={"á":"a","à":"a","â":"a","ä":"a","ã":"a","å":"a","æ":"a","ç":"c","é":"e","è":"e","ê":"e","ë":"e","í":"i","ì":"i","î":"i","ï":"i","ñ":"n","ó":"o","ò":"o","ô":"o","ö":"o","õ":"o","ø":"o","œ":"o","ß":"s","ú":"u","ù":"u","û":"u","ü":"u"},o=e=>{if(!e)return"";let t="";for(let i=0;i<e.length;i+=1)t+=n[e.charAt(i)]||e.charAt(i);return t},s=(e,t,i="name")=>{const n=t.toLowerCase();return e.filter((e=>((e,t)=>{const i=t.split(" "),n=e.split(" ");let s=0;for(let r=0;r<n.length;r+=1)(o(n[r]).includes(i[s])||n[r].includes(i[s]))&&(s+=1);return s===i.length})(e[i].toLowerCase(),n)))}},641316:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(698991),o=i(411866),s=i(883119),r=i(785893);const a=({collaborator_count:e,useLegoLayout:t,type:i})=>t?(0,r.jsx)(s.xu,{marginEnd:e?2:0,children:(0,r.jsx)(n.Z,{type:i})}):(0,r.jsx)(n.Z,{type:i}),c=({board:e,showCollaborativeIcon:t,showPrivateIcon:i,showProtectedIcon:c,showSectionsIcon:d,useLegoLayout:l})=>{var u;const h=(null==e||null===(u=e.collaborating_users)||void 0===u?void 0:u.length)||0;return t||i||c||d?(0,r.jsxs)(s.xu,{display:"flex",direction:"row",marginEnd:l?0:5,dangerouslySetInlineStyle:{__style:{paddingLeft:8}},alignItems:"center",children:[i&&(0,r.jsx)(a,{collaborator_count:h,useLegoLayout:l,type:"secret"}),c&&(0,r.jsx)(a,{collaborator_count:h,useLegoLayout:l,type:"protected"}),t&&(l?(0,r.jsx)(o.Z,{board:e,isCompact:!0,ownerOnly:!1}):(0,r.jsx)(n.Z,{type:"group"})),d&&(0,r.jsx)(n.Z,{type:"sections"})]}):null}},59960:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(883119),o=i(785893);const s=({image_url:e,naturalHeight:t,naturalWidth:i})=>(0,o.jsx)(n.xu,{"aria-hidden":"true",marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,height:48,children:(0,o.jsx)(n.zd,{wash:!0,width:48,height:48,rounding:2,children:(0,o.jsx)(n.Ee,{src:e,alt:"",naturalHeight:t,naturalWidth:i})})})},69895:(e,t,i)=>{i.d(t,{Z:()=>r});const n={row:0,section:0},o={row:-1,section:-1},s=()=>{};class r{constructor(e){this.index=Object.assign({},n),this.sections=e,this.updateCallback=s,this.selectItem=s}getIndex(){return this.index}isAtStart(){const{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){const{row:e,section:t}=this.index,i=this.sections[t]||[];return this.sections.length===t+1&&i.length===e+1}next(){if(this.isAtEnd())return;const{row:e,section:t}=this.index;e===o.row&&t===o.section?this.index=Object.assign({},n):this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;const{row:e,section:t}=this.index;if(e===o.row&&t===o.section)this.index=Object.assign({},n);else if(e>0)this.index.row-=1;else{const e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){const{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index=Object.assign({},o),this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},885054:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),o=i(717138),s=(i(69895),i(883119)),r=i(785893);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c extends n.Component{constructor(e){super(e),a(this,"setSelectedItemRef",(e=>{this.selectedItemRef=e})),a(this,"handleIndexUpdate",(e=>{const{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})})),a(this,"handleSelectItem",(e=>()=>{const{disabled:t,onSelectItem:i}=this.props;t||i(e)})),a(this,"handleMouseEnter",(e=>()=>{const{disabled:t,indexManager:i}=this.props;t||i.updateIndex(e)})),a(this,"handleMouseLeave",(()=>{const{disabled:e,indexManager:t}=this.props;e||t.setInactive()})),a(this,"renderItems",((e,t)=>{const{renderItem:i}=this.props,{selectedIndex:n}=this.state,{row:o,section:a}=n||{},{customProps:c={},items:d,renderItem:l}=e,{isDisabled:u=(e=>!1)}=c,h=t===a,p=l||i;return p&&d.map(((e,i)=>{const n=u(e),a={section:t,row:i},d=h&&i===o;return(0,r.jsx)(s.xu,{"data-test-id":"board-selection",ref:!n&&d?this.setSelectedItemRef:null,children:n?p({item:e,hovered:d,sectionProps:c}):(0,r.jsx)(s.iP,{fullWidth:!1,onMouseEnter:this.handleMouseEnter(a),onMouseLeave:this.handleMouseLeave,onTap:this.handleSelectItem(e),rounding:2,children:p({item:e,hovered:d,sectionProps:c})})},i)}))})),a(this,"renderSections",(()=>{const{renderSectionHeader:e,sections:t}=this.props;return t.map(((t,i)=>(0,r.jsxs)(s.xu,{children:[e&&e(t,i),this.renderItems(t,i)]},i)))}));const{indexManager:t}=this.props;this.state={selectedIndex:t.getIndex(),selectionMovedByKeyboard:!1},t.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){const{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){const e=this.selectedItemRef;if(!(e instanceof HTMLElement))return;const i=e.getBoundingClientRect(),n=i.top,o=i.bottom,s=t.getBoundingClientRect(),r=s.top;o>=s.bottom?e.scrollIntoView(!1):n<=r&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){const{grow:e=!1,maxHeight:t,fetchMore:i}=this.props;return(0,r.jsx)(o.Z,{fetchMore:i,children:({setRef:i,onScroll:n})=>(0,r.jsx)(s.xu,{flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:n,overflow:"auto",ref:e=>{this.containerRef=e,i(e)},children:this.renderSections()})})}}},424337:(e,t,i)=>{i.d(t,{W:()=>l,Z:()=>u});var n=i(698991),o=i(641316),s=i(620831),r=i(59960),a=i(710159),c=i(883119),d=i(785893);function l(e,t=""){const i=e&&e.length>1?new RegExp(e,"i"):"";return e&&e.length>1?t.split(i).reduce(((i,n,o)=>{if(i.length>0&&e&&e.length){const s=t.toLowerCase().indexOf(e.toLowerCase());return i.concat((0,d.jsx)("em",{style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"},children:t.substring(s,s+e.length)},o),n)}return[n]}),[]):t}const u=function(e){var t,i,u,h,p,b;const I=(0,a.ZP)(),{disabled:g,item:x,isSection:f,isSelectMode:m,isWithinSectionPicker:_,saveState:v,searchQuery:w,selected:y}=e,S=f?null:x,j=f?x:null,E=j&&j.title||S&&S.name||"";let Z="",D=!1,C="",P=0;S&&({image_cover_url:Z,is_collaborative:D,privacy:C,section_count:P=0}=S);const B=l(w,E),L=C===s.Z.BoardPrivacy.SECRET,T=!g&&(y||!!v),k=!_&&"number"==typeof P&&P>0,R="number"==typeof P&&P>0?"boardWithSection":"boardWithoutSection",O=m?I._("Select","Board select button label","Board select button label"):I._("Save","Pin save button label","Pin save button label");return(0,d.jsxs)(c.xu,{alignItems:"center",color:T?"lightGray":"white",display:"flex",height:64,marginStart:2,marginEnd:2,marginTop:1,padding:2,rounding:3,"data-test-id":R,children:[S&&(0,d.jsx)(c.xu,{height:48,width:48,color:"lightGray",overflow:"hidden",rounding:2,marginEnd:2,flex:"none",children:Z?(0,d.jsx)(c.Ee,{src:Z,alt:E,fit:"cover",naturalWidth:1,naturalHeight:1}):(0,d.jsx)("span",{})}),j&&!(null===(t=j.preview_pins)||void 0===t||!t.length)&&(0,d.jsx)(r.Z,{image_url:null!==(i=j.preview_pins[0].image_square_url)&&void 0!==i?i:"",naturalHeight:null!==(u=null===(h=j.preview_pins[0].image_square_size_pixels)||void 0===h?void 0:h.height)&&void 0!==u?u:1,naturalWidth:null!==(p=null===(b=j.preview_pins[0].image_square_size_pixels)||void 0===b?void 0:b.width)&&void 0!==p?p:1}),(0,d.jsxs)(c.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,d.jsx)(c.xv,{color:g?"gray":"darkGray",size:"lg",lineClamp:1,weight:"bold",children:B}),(k||!T)&&(0,d.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[L&&(0,d.jsx)(n.Z,{type:"secret"}),D&&(0,d.jsx)(o.Z,{board:S,showCollaborativeIcon:D,useLegoLayout:!0}),k&&(0,d.jsx)(n.Z,{type:"sections"})]}),!k&&T&&!v&&(0,d.jsx)(c.xu,{alignItems:"center",color:"red","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:(0,d.jsx)(c.xv,{color:"white",overflow:"normal",size:"lg",weight:"bold",children:O})}),!k&&T&&"loading"===v&&(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:(0,d.jsx)(c.$j,{accessibilityLabel:I._("Saving","Accessibility label for saving a pin to a board","Accessibility label for saving a pin to a board"),show:!0})})]})]})}},698991:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(710159),o=i(883119),s=i(785893);const r=function({type:e}){const t=(0,n.ZP)(),i={group:{accessibilityLabel:t._("group board","Board picker group board icon","Board picker group board icon"),icon:"people"},protected:{accessibilityLabel:t._("protected board","Board picker protected board icon","Board picker protected board icon"),icon:"protect"},secret:{accessibilityLabel:t._("secret board","Board picker secret board icon","Board picker secret board icon"),icon:"lock"},sections:{accessibilityLabel:t._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:t._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-down"}}[e];return(0,s.jsx)(o.xu,{marginStart:1,children:(0,s.jsx)(o.xu,{marginStart:2,children:"sections"===e||"sectionsInline"===e?(0,s.jsx)(o.JO,{accessibilityLabel:i.accessibilityLabel,icon:i.icon,size:"12",color:"darkGray"}):(0,s.jsx)(o.JO,{accessibilityLabel:i.accessibilityLabel,icon:i.icon,size:16,color:"darkGray"})})})}},151941:(e,t,i)=>{i.d(t,{Z:()=>I,S:()=>b});var n=i(662242),o=i(569444),s=i(560505),r=i(222421),a=i(724207),c=i(956528),d=i(816458),l=i(58612);const u=e=>t=>{l.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._("Please wait until the previous board action finishes."," - "," -- ");default:return e.message}}(t,e))},h=e=>(0,o.Z)(e.sectionId?d.DV.SECTION_PINS:d.DV.BOARD_PINS,e.sectionId||e.boardId);function p(e,t){const{source:i,target:o}=e;o.boardId!==i.boardId?(t((0,c.Tq)(i.boardId,"pin_count")),t((0,c.Tq)(o.boardId,"pin_count"))):i.sectionId&&o.sectionId||t((0,c.Tq)(o.boardId,"pin_count")),i.sectionId&&t((0,n.Z)(i.sectionId)),o.sectionId&&t((0,n.Z)(o.sectionId))}function b(e){return t=>{const{selectedPinIds:i,source:n,target:o}=e;t((0,r.Z)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?d.DV.SECTION_PINS:d.DV.BOARD_PINS,itemIds:i,itemType:"pin"})),t((0,s.Z)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?d.DV.SECTION_PINS:d.DV.BOARD_PINS,itemIds:i,itemType:"pin"})),p(e,t)}}function I(e,t){return i=>function(e,t,i){const{inverseSelection:n,selectedPinIds:o,source:c,target:l}=e;if(c.boardId===l.boardId&&(c.sectionId||null)===(l.sectionId||null))return Promise.reject();if(n){const e={board_id:c.boardId,new_board_id:l.boardId,old_section_id:c.sectionId||void 0,new_section_id:l.sectionId||void 0,pin_ids:o};return a.ZP.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then((()=>Promise.all([t(h(c)),t(h(l))]))).catch(u(i))}{const e=(e,i)=>{t((0,r.Z)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?d.DV.SECTION_PINS:d.DV.BOARD_PINS,itemIds:o,itemType:"pin"})),t((0,s.Z)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?d.DV.SECTION_PINS:d.DV.BOARD_PINS,itemIds:o,itemType:"pin"}))};e(c,l);const n=()=>e(l,c);if(l.boardId===c.boardId){if(l.sectionId){const e={section_id:l.sectionId,pins:o};return a.ZP.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch((e=>{n(),u(i)(e)}))}{const e={section_id:c.sectionId,pins:o};return a.ZP.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch((e=>{n(),u(i)(e)}))}}{const e={board_id:l.boardId,section_id:l.sectionId||void 0,pin_ids:o};return a.ZP.create("BulkEditResource",e).callUpdate({showError:!1}).catch((e=>{n(),u(i)(e)}))}}}(e,i,t).then((()=>p(e,i)))}},149314:(e,t,i)=>{i.d(t,{h:()=>l,Z:()=>u});var n=i(569444),o=i(560505),s=i(151941),r=i(724207),a=i(956528),c=i(816458),d=i(689783);function l(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function u({boardId:e,name:t,nameSource:i,pinImport:u,initialPinIds:h=[]},p,b){let I=0;"RECOMMENDATION"===i?I=1:"EDITED_RECOMMENDATION"===i&&(I=2);const g={board_id:e,initial_pins:u&&!u.all?u.pinIds:h,name:t,name_source:I,...b?{orbac_subject_id:b}:Object.freeze({})};return t=>r.ZP.create("BoardSectionResource",g).callCreate({showError:!1}).then((({resource_response:{data:i}})=>{t(l(e,i)),t((0,o.Z)({feedId:e,feedType:c.DV.BOARD_SECTIONS,itemIds:[i.id],itemType:"board_section"})),t((0,a.Tq)(e,"pin_count")),t((0,d.jB)("BoardSectionsRepinResource",{board_id:e}));const{all:r,pinIds:h}=u||{all:!1,pinIds:[]};return r?new Promise(((n,o)=>t((0,s.Z)({inverseSelection:!0,selectedPinIds:h,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:i.id}},p)).then((()=>n(i))).catch(o))):(h.length>0&&t((0,n.Z)(c.DV.BOARD_PINS,e)),i)}))}},662242:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(261484);function o(e,t){return i=>i((0,n.U2)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}},284355:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294);let o=null,s=!1,r=0;const a=()=>{o&&clearTimeout(o),s=!0,o=setTimeout((()=>{s=!1}),100)},c=()=>{const[e,t]=(0,n.useState)(!1),i=(0,n.useRef)(null);(0,n.useEffect)((()=>(0===r&&window.addEventListener("scroll",a),r+=1,()=>{i.current&&clearTimeout(i.current),r-=1,r||window.removeEventListener("scroll",a)})),[]);const o=e=>{i.current&&clearTimeout(i.current),i.current=e&&s?setTimeout((()=>o(!0)),100):setTimeout((()=>{t(e)}),32)};return{isHovering:e,hoverHandlers:(0,n.useRef)({onMouseOver:()=>o(!0),onMouseLeave:()=>o(!1)}).current}}},258872:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(883119),o=i(785893);const s={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function r(){return(0,o.jsx)(n.xu,{alignItems:"center",color:"red",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",rounding:8,children:(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:s,display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function a({disabled:e,name:t,onClick:i,size:s,submitting:a,text:c}){return(0,o.jsxs)(n.xu,{display:"flex",position:"relative",children:[a&&(0,o.jsx)(r,{}),(0,o.jsx)(n.zx,{color:"red",disabled:e||a,name:t,onClick:i,size:s,type:"submit",text:c})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/51855-7c197c79ff8722f4.mjs.map