(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[40205],{443109:(e,t,r)=>{r.d(t,{Z:()=>s});r(441143);var o=r(785893);class n{static factory(e){return e instanceof n?e:new n(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function s(e){const{css:t,unsafeCSS:r,...s}=e,i=String(t||"")||r||"";return!!i?(0,o.jsx)("style",{...s,dangerouslySetInnerHTML:{__html:String(n.factory(i))}}):null}},144977:(e,t,r)=>{r.d(t,{Z:()=>s});var o=r(883119),n=r(785893);function s(e){const{children:t,display:r,id:s}=e;return(0,n.jsx)(o.xu,{"data-test-id":s,display:r,children:t})}},850770:(e,t,r)=>{r.d(t,{Z:()=>s});var o=r(251443),n=r(194594);function s({pin:e,shouldUnifyImageSizes:t,additionalImages:r}){const s=(0,o.Z)({richPinData:(null==e?void 0:e.rich_metadata)||(null==e?void 0:e.rich_summary)});return s&&r&&r.length>0?(0,n.Z)(null,r,e.carousel_data&&e.carousel_data.index,t,s.id):s&&s.additional_images&&s.additional_images.length>0?(0,n.Z)(e.images,s.additional_images,e.carousel_data&&e.carousel_data.index,t,s.id):e&&e.carousel_data}},539195:(e,t,r)=>{r.d(t,{B:()=>n,v:()=>s});var o=r(487889);const{Provider:n,useHook:s}=(0,o.Z)("ContextLogger")},597569:(e,t,r)=>{r.d(t,{Z:()=>n});var o=r(539195);const n=()=>(0,o.v)().logContextEvent},487889:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(667294),n=r(785893);function s(e,t){let r=e.slice(1);if(r=r.endsWith("Context")?r:`${r}Context`,t){return{hocDisplayName:`with${e[0].toUpperCase()}${r}(${t})`}}return{propsDisplayName:`${e[0].toLowerCase()}${r}`,messageDisplayName:`${e[0].toUpperCase()}${r}`}}function i(e,t){const r=(0,o.createContext)(t),{propsDisplayName:i,messageDisplayName:a}=s(e);r.displayName=a;const l=r.Provider,d=({children:e})=>{const t=(0,o.useContext)(r);if(void 0===t)throw new Error(`${a}Consumer must be used within a ${a}Provider.`);return e(t)},c=()=>(0,o.useContext)(r);function u(t){const{hocDisplayName:l}=s(e,String(t.displayName||t.name)),d=e=>{const s=(0,o.useContext)(r);if(void 0===s)throw new Error(`${l} must be used within a ${a}Provider.`);if(e[i])throw new Error("Parent Component and Context are passing to the component the same variables.");const d={[i]:s};return(0,n.jsx)(t,{...e,...d})};return d.displayName=l,d}return l.displayName=`${a}Provider`,d.displayName=`${a}Consumer`,u.displayName=`${a}HOC`,{Provider:l,Consumer:d,MaybeConsumer:({children:e})=>e((0,o.useContext)(r)),useMaybeHook:c,useHook:function(){const e=c();if(void 0===e)throw new Error(`use${a} must be used within a ${a}Provider.`);return e},deprecatedHOC:u}}},96527:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(667294),n=r(71445),s=r(796874);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class a extends o.Component{constructor(...e){super(...e),i(this,"state",{error:null,info:null}),i(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,t){try{const t=this.props.name,r=this.props.type||"secondary";(0,s.B)({errorBoundary:t,errorBoundaryType:r,message:e.message,name:e.name,stack:e.stack}),n.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(r){n.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:r}=this.state;return t&&r?e?e({error:t,info:r,resetError:this.resetError}):null:this.props.children}}},53930:(e,t,r)=>{r.d(t,{Z:()=>o});const o=r(96527).Z},916389:(e,t,r)=>{r.d(t,{b:()=>n.b7,Z:()=>s});var o=r(917404),n=r(747678);const s=o.Z},917404:(e,t,r)=>{r.d(t,{Z:()=>d});var o=r(667294),n=r(909621),s=r(353136),i=r(747678),a=r(883119),l=r(785893);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:r,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:p,closeOnOutsideClick:h,footer:m,heading:g,onDismiss:y,role:v,size:x,subHeading:f}){(0,o.useEffect)((()=>(n.Z.pause(),function(){n.Z.resume()})),[]);return(0,l.jsx)(a.mh,{zIndex:i.b7,children:(0,l.jsx)(s.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,l.jsx)(a.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:r,closeOnOutsideClick:h,heading:g,footer:m,onDismiss:()=>{n.Z.resume(),y()},role:v,size:x,subHeading:f,children:p})})})}},647136:(e,t,r)=>{r.d(t,{Vg:()=>l,UZ:()=>d,ZP:()=>c});var o=r(667294),n=r(914861),s=r(371974),i=r(883119),a=r(785893);const l=200,d=({deviceType:e,hiding:t,visible:r})=>({marginTop:"desktop"===e?10:0,opacity:0,position:"relative",transform:"desktop"===e?"translateY(200px)":"translateY(-200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",...r?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...r&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}});function c({button:e,dataTestId:t,duration:r=2e3,href:c,iconThumbnail:u,imageUrl:p,onClick:h,onHide:m,openNewPage:g,text:y,thumbnailShape:v="square",variant:x="default"}){const f=(0,s.ZP)(),[b,_]=(0,o.useState)(!1),[T,w]=(0,o.useState)(!1),C=(0,o.useRef)(),k=()=>{_(!0),C.current=setTimeout(m,l)},S=()=>{C.current&&clearTimeout(C.current)},j=()=>{C.current=setTimeout(k,r)};(0,n.Z)((()=>(setTimeout((()=>w(!0)),100),j(),S)));const I="string"==typeof y?y:`${y[0]} ${y[1]}`,P=p?(0,a.jsx)(i.xu,{height:48,overflow:"hidden",width:48,children:(0,a.jsx)(i.Ee,{alt:I,fit:"cover",naturalHeight:1,naturalWidth:1,src:p})}):void 0,E=(0,a.jsx)(i.FN,{button:e,text:y,thumbnail:null!=u?u:P,thumbnailShape:v,variant:x});return(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:d({deviceType:f,hiding:b,visible:T})},"data-test-id":null!=t?t:"toast",onMouseEnter:S,onMouseLeave:j,children:c?(0,a.jsx)(i.iP,{role:"link",href:c,onTap:({event:e})=>null==h?void 0:h(e),target:g?"blank":null,rounding:"pill",children:E}):E})}},502493:(e,t,r)=>{r.d(t,{Z:()=>h});var o=r(667294),n=r(973935),s=r(850770),i=r(909621),a=r(539195),l=r(276679),d=r(785893);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class p extends o.Component{constructor(e){super(e),c(this,"trackImpression",(()=>{try{this.node=(0,n.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),c(this,"logImpression",(e=>{const{carousel_data:t,closeupImpressionType:r,closeupNavigationType:o,componentType:n,contextLogData:s,elementType:i,impressionAuxFields:a,impressionType:l,loggingId:d,objectIdStr:c,slotIndex:p,trackCarousel:h,viewData:m,viewParameter:g,viewType:y,logContextEvent:v}=this.props,x=u[l],f=x.idType,b=e.forcedExit&&"removed"===e.forcedExit?0:void 0,_={endTime:e.endTime,[f]:d,slotIndex:p,time:e.startTime,renderDuration:e.endTime-e.startTime,type:r,...a,forcedExit:b};if(h||v({event_type:x.eventType,component:n,element:i,event_data:{[x.impressionType]:[_]},object_id_str:c,view_type:y,view_data:m||{},view_parameter:g,aux_data:{...s,closeup_navigation_type:o}}),t&&h){const{carousel_slots:e,index:r=0,id:o}=t;v({event_type:7352,component:n,event_data:{pinCarouselSlotImpressions:[{..._,carouselDataId:Number(o),carouselSlotId:(null==e?void 0:e[r])&&Number(e[r].id),slotIndex:r}]},object_id_str:c,view_type:y,view_data:m||{},view_parameter:g,aux_data:{...s}})}})),this.impressionsFramework=e.impressionsFramework||i.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return o.Children.only(this.props.children)}}function h(e){const{logContextEvent:t}=(0,a.v)(),{loggingId:r}=e,{pins:o}=(0,l.Wb)(),n=r?o[r]:{};return(0,d.jsx)(p,{...e,logContextEvent:t,carousel_data:(0,s.Z)({pin:n})})}},8720:(e,t,r)=>{r.d(t,{iR:()=>o,_Q:()=>n,Js:()=>s,VX:()=>i,jL:()=>a,hy:()=>l,_J:()=>d,sV:()=>c,sY:()=>u,cL:()=>p,rM:()=>h,Zt:()=>m,hb:()=>g});const o=e=>!!e&&!!e.video_list,n=e=>!!e.promoted_is_lead_ad,s=(e,t)=>{let r=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(r=t.full_name),r},i=e=>{var t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&e.rich_metadata.products.length>0||!1},a=e=>!!e.promoter&&!e.is_downstream_promotion,l=({story_pin_data_id:e})=>!!e,d=e=>!!e.video_status&&5!==e.video_status,c=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e.embed&&"gif"===e.embed.type,p=e=>!(!e.embed||!e.embed.src||u(e)||(e=>!!e.embed&&"pinstory"===e.embed.subtype)(e)),h=({mobile_link:e,tracked_link:t,link:r})=>!e&&!t&&!r,m=e=>{var t,r,o;return e?e.mobile_link||e.tracked_link||e.link||(null!==(t=null===(r=(null!==(o=e.images)&&void 0!==o?o:{}).orig)||void 0===r?void 0:r.url)&&void 0!==t?t:""):null},g=e=>{const t="image";return e?l(e)?"storyPin":o(e.videos)?"video":t:t}},841229:(e,t,r)=>{r.d(t,{Z:()=>s});const o=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),n=e=>!o.has(e)&&!e.startsWith("__track__"),s=e=>e?Object.keys("object"==typeof e&&e||{}).filter((e=>"string"==typeof e)).filter(n).sort().map((t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`)).join(","):""},952733:(e,t,r)=>{r.d(t,{P2:()=>i,Mf:()=>a,LC:()=>l,fH:()=>d,B:()=>c});var o=r(667294),n=r(785893);const s=(0,o.createContext)(),i=s.Provider;function a(e){function t(t){const r=(0,o.useContext)(s);if(!r)throw new Error("withRequestContext must be used within a RequestContextProvider");return(0,n.jsx)(e,{...t,requestContext:r})}return t.displayName=`withRequestContext(${String(e.displayName||e.name)})`,t}const l=({children:e})=>{const t=(0,o.useContext)(s);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)},d=({children:e})=>{const t=(0,o.useContext)(s);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)};function c(){const e=(0,o.useContext)(s);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e}},261484:(e,t,r)=>{r.d(t,{U2:()=>l,bi:()=>d,v_:()=>c});var o=r(841229),n=r(724207),s=r(689783),i=r(480769);function a({fetchOptions:e,resource:t,retry:r}){return(l,d)=>{var c,u,p;const{bookmark:h,headers:m,options:g,refresh:y,schema:v}=e,x=(0,o.Z)(g);if(null!==(c=d().resources)&&void 0!==c&&null!==(u=c[t])&&void 0!==u&&null!==(p=u[x])&&void 0!==p&&p.fetching&&!r)return Promise.resolve();const f=r?r.bookmark:h,b=f?{...g,bookmarks:[f]}:g;return l((0,s.LQ)(t,g,!0)),n.ZP.create(t,b).callGet(void 0,m).then((o=>{var d,c,u;const p=null===(d=o.resource_response)||void 0===d?void 0:d.data,[m]=o.bookmarks||[];if(Array.isArray(p)&&0===p.length&&m&&m!==i.q){const o=r?r.count:0;if(!(o>=i.s))return l(a({resource:t,fetchOptions:e,retry:{count:o+1,bookmark:m}}))}null===(c=n.ZP.customDataManipulations)||void 0===c||c.call(n.ZP,t,p,g);const{normalizedResponse:x,resourceSchema:f}=(null===(u=n.ZP.normalizeResponse)||void 0===u?void 0:u.call(n.ZP,{data:p,opts:{bookmark:h,options:g,schema:v},resource:t}))||{normalizedResponse:null,resourceSchema:void 0};return h?l((0,s.Dm)(t,g,o,x,f)):(l((0,s.Sr)(t,g,o,x,y,f)),n.ZP.fetchCompleteCallback&&n.ZP.fetchCompleteCallback({resource:t,options:g,response:o,normalizedResponse:x,refresh:y,resourceSchema:f})),Promise.resolve()}),(e=>{l((0,s.Tl)(t,g,e))}))}}const l=(e,{bookmark:t,headers:r,options:o,schema:n})=>a({resource:e,fetchOptions:{bookmark:t,headers:r,options:o,refresh:!1,schema:n}}),d=(e,{headers:t,options:r,schema:o})=>a({resource:e,fetchOptions:{headers:t,options:r,refresh:!0,schema:o}});function c(e,t,r){return o=>{const{options:i}=t;return n.ZP.create(e,i).callCreate().then((t=>{var n;if(null!==(n=t.resource_response)&&void 0!==n&&n.data){const n=t.resource_response.data,a=(null==r?void 0:r(n))||null;o((0,s.XM)(e,i,t,a))}return t}),(t=>(o((0,s.Tl)(e,i,t)),t)))}}},480769:(e,t,r)=>{r.d(t,{q:()=>o,s:()=>n});const o="-end-",n=10},824941:(e,t,r)=>{r.d(t,{AF:()=>o,KK:()=>n,cR:()=>s,zP:()=>i,aW:()=>a,se:()=>l});const o="CREATE_COMPLETE",n="FETCHING",s="FETCH_ERROR",i="FETCH_COMPLETE",a="FETCH_MORE_COMPLETE",l="RESOURCE_INVALIDATE"},689783:(e,t,r)=>{r.d(t,{XM:()=>n,LQ:()=>s,Tl:()=>i,Sr:()=>a,Dm:()=>l,jB:()=>d});var o=r(824941);function n(e,t,r,n){return{type:o.AF,payload:{resource:e,options:t,response:r,normalizedResponse:n}}}function s(e,t,r){return{type:o.KK,payload:{resource:e,options:t,isFetching:r}}}const i=(e,t,r)=>({type:o.cR,payload:{resource:e,options:t,error:r}});function a(e,t,r,n,s,i){return{type:o.zP,payload:{isRefresh:s,normalizedResponse:n,options:t,resource:e,response:r,schema:i}}}function l(e,t,r,n,s){return{type:o.aW,payload:{resource:e,options:t,response:r,normalizedResponse:n,schema:s}}}function d(e,t={}){return{type:o.se,payload:{resource:e,options:t}}}},379771:(e,t,r)=>{r.d(t,{Z:()=>u});var o=r(667294),n=r(40142),s=r(841229),i=r(480769),a=r(855168),l=r(952733),d=r(261484);const c={};function u({enabledRouteRefresh:e,dangerouslyDisableFetch:t,headers:r,name:u,noCache:p,options:h,schema:m}){const g=(0,n.useDispatch)(),y=(0,s.Z)(h),v=(0,o.useRef)(),x=(0,a.k6)(),f=x&&"POP"!==x.action,b=e=>(e[u]||c)[y]||c,_=(0,n.useSelector)((({resources:e})=>b(e).nextBookmark)),T=(0,n.useSelector)((({resources:e})=>b(e).data)),w=(0,n.useSelector)((({resources:e})=>b(e).auxData)),C=(0,n.useSelector)((({resources:e})=>b(e).error)),k=(0,n.useSelector)((({resources:e})=>Boolean(b(e).fetching))),S=Boolean(C)||void 0!==T,j=S&&!k&&_===i.q,I=Boolean(S&&e&&f&&!t),[P,E]=(0,o.useState)(I),Z=(0,o.useCallback)((e=>g((0,d.U2)(u,{options:h,schema:m,bookmark:e,headers:r}))),[g,u,y,m,r]),R=()=>g((0,d.bi)(u,{options:h,schema:m,headers:r})),{isBot:O}=(0,l.B)();(0,o.useEffect)((()=>{if(!t&&v.current!==y){const e=void 0===v.current;v.current=y,!S&&!k||e&&C&&(({httpStatus:e})=>!e||e>=500)(C)?Z():(!O&&p||I)&&R()}}));const M=(0,o.useCallback)((()=>{t||(R(),E(!0))}),[t,d.bi,u,y,r,E]),D=(0,o.useCallback)((()=>{!_||j||k||t||Z(_)}),[t,Z,_,j,k]),H=(0,o.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:D,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:M}),L={auxData:w,data:T,error:C,fetchMore:D,isAtEnd:j,isFetching:k,isLoaded:S,isRefreshing:P,nextBookmark:_,refresh:M};return(0,n.shallowEqual)(L,H.current)||(!P||!H.current.data&&I||(0,n.shallowEqual)(L.data,H.current.data)||(L.isRefreshing=!1,E(!1)),H.current=L),H.current}},193007:(e,t,r)=>{r.d(t,{Z:()=>n});var o=r(413771);function n({storyCategory:e,query:t,referringSource:r,bubbleId:n,storyId:s}){const i=[0,24,21,26].includes(e),a=(0,o.Z)({q:t,rs:r||void 0,b_id:n,source_id:s});return i?`/discover/article/${n}`:"/search/pins/"+(a?"?"+a:"")}},251443:(e,t,r)=>{function o({richPinData:e={}}){return((null==e?void 0:e.products)||[])[0]}r.d(t,{Z:()=>o})},390346:(e,t,r)=>{r.d(t,{J:()=>o,Z:()=>n});const o=-1;function n(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},656700:(e,t,r)=>{r.d(t,{Z:()=>o});const o=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},628885:(e,t,r)=>{r.d(t,{Z:()=>s});var o=r(434809),n=r(656700);const s=(e,t)=>{const r={};return Object.keys(t).forEach((e=>{r[e]=t[e]?(0,n.Z)(t[e].toString()):""})),(0,o.Z)(e,r)}},358142:(e,t,r)=>{r.d(t,{Zo:()=>n,F9:()=>s,Cl:()=>i});var o=r(487889);const{Provider:n,useHook:s,deprecatedHOC:i}=(0,o.Z)("toastManagerContext")},914861:(e,t,r)=>{r.d(t,{Z:()=>n});var o=r(667294);const n=e=>{(0,o.useEffect)(e,[])}},456168:(e,t,r)=>{r.d(t,{$:()=>n,Z:()=>i});var o=r(487889);const{Provider:n,useHook:s}=(0,o.Z)("viewer"),i=s},276679:(e,t,r)=>{r.d(t,{jx:()=>n,Wb:()=>s,tk:()=>i});var o=r(487889);const{Provider:n,useHook:s}=(0,o.Z)("Pins");function i(){const{pins:e}=s();return t=>e[t]}},349812:(e,t,r)=>{r.d(t,{Z:()=>w});var o=r(667294),n=r(156575),s=r(660316),i=r(502493),a=r(193007),l=r(454822),d=r(916389),c=r(724207),u=r(647136),p=r(378351),h=r(710159),m=r(358142),g=r(883119),y=r(785893);function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class x extends o.PureComponent{constructor(...e){var t;super(...e),t=this,v(this,"state",{showModal:!1,reportType:null}),v(this,"handleDismiss",(()=>this.setState({showModal:!1}))),v(this,"handleClick",(()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()})),v(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:r}=t.props;t.setState({showModal:!1});r((await c.ZP.create("GetPinFromSignature",{imgSignature:e}).callGet()).resource_response.data.id)})),v(this,"reportSuggestionText",(()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast((({onHide:e})=>(0,y.jsx)(u.ZP,{onHide:e,text:this.props.i18n._("Thanks for your report! This will be reviewed by our Trust and Safety Team","ReportingFlag.Toast.text","Toast after reporting a search suggestion")}))),this.handleDismiss())})),v(this,"showModal",(({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})}))}render(){const{showModal:e}=this.state;return(0,y.jsxs)(o.Fragment,{children:[this.props.isVisible&&(0,y.jsx)(l.Z,{onClick:this.showModal,backgroundHaloSize:24}),e&&(0,y.jsx)(d.Z,{accessibilityModalLabel:this.props.i18n._("Report search term","ReportingFlag.Modal.accessibilityModalLabel","accessible label for report suggestion modal"),heading:this.props.i18n._("Report search term","ReportingFlag.Modal.heading","Heading for report suggestion modal"),onDismiss:this.handleDismiss,size:"sm",children:(0,y.jsxs)(g.xu,{children:[(0,y.jsx)(g.xu,{padding:5,children:(0,y.jsx)(g.xv,{children:this.props.i18n._("When you flag this, our Trust and Safety team will review it. If it doesn't meet our Community Guidelines, it will be blocked.","ReportingFlag.Box.Text.report","What will happen when you report a suggestion")})}),(0,y.jsxs)(g.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,y.jsxs)(g.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,y.jsx)(g.EU,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,y.jsx)(g.xu,{flex:"grow",children:(0,y.jsx)(g.__,{htmlFor:"textType",children:(0,y.jsx)(g.xu,{paddingX:2,children:(0,y.jsx)(g.xv,{children:"Report search text"})})})})]}),(0,y.jsxs)(g.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,y.jsx)(g.EU,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,y.jsx)(g.xu,{flex:"grow",children:(0,y.jsx)(g.__,{htmlFor:"imageType",children:(0,y.jsx)(g.xu,{paddingX:2,children:(0,y.jsx)(g.xv,{children:"Report search image"})})})})]})]}),(0,y.jsx)(g.iz,{}),(0,y.jsxs)(g.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,y.jsx)(g.xu,{margin:2,children:(0,y.jsx)(g.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._("Cancel","ReportingFlag.Box.Button.text.cancel","Text for cancel button when reporting search suggestion")})}),(0,y.jsx)(g.xu,{margin:2,children:(0,y.jsx)(g.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n._("Report","ReportingFlag.Box.Button.text.report","Button label to report search suggestion"),disabled:!this.state.reportType})})]})]})})]})}}function f(e){const t=(0,h.ZP)(),{reportImage:r}=(0,p.f)();return(0,y.jsx)(x,{...e,i18n:t,reportImage:r,toastManagerContext:(0,m.F9)()})}var b=r(628885),_=r(456168),T=r(390346);function w({bubble:e,height:t,storyId:r,width:l,onClick:d,referringSource:c,contextLogData:u,viewType:p,viewParameter:m,slotIndex:v,handleReport:x,showFlag:w,imgSignature:C,onMouseEnter:k,onMouseLeave:S,isHovered:j,disableTabIndex:I}){const P=(0,h.ZP)(),E=(0,_.Z)(),{id:Z,action:R,cover_images:O,dominant_colors:M,identifier_icon_type:D,title:H,story_category:L,curator:N}=e,F=O&&O[0]?O[0]["280x280"]||O[0]["236x"]:void 0,B=(0,b.Z)(H&&H.format||"",H&&H.args||{}),z=M&&M.length?M[0]:"gray",A=(null==R?void 0:R.url)||(0,a.Z)({storyCategory:L,query:B,referringSource:c,bubbleId:Z,storyId:r});return(0,y.jsx)(i.Z,{impressionAuxFields:{storyCategory:L,storyIdStr:r},impressionType:"Article",loggingId:Z,viewType:p,viewParameter:m,slotIndex:v,contextLogData:{story_id:r,...u},children:(0,y.jsx)(s.Z,{backgroundColor:z,coverImage:F,height:t,id:Z,isHovered:j,onClick:d,onMouseEnter:k,onMouseLeave:S,url:A,width:l,disableTabIndex:I,children:({isHovered:e})=>(0,y.jsxs)(o.Fragment,{children:[N&&26!==L&&(0,y.jsx)(g.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,y.jsx)(n.Z,{outline:!0,size:"xs",src:N.image_small_url,name:N.full_name})}),D&&D!==T.J&&(0,y.jsx)(g.xu,{alignItems:"center",color:"white",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,y.jsx)(g.JO,{icon:(0,T.Z)(D),accessibilityLabel:P._("Shopping icon","bubble.shoppingIcon.label","Accessibility label for bubble shopping Icon"),color:"darkGray",size:12})}),(0,y.jsx)(g.xu,{display:"flex",height:t,width:l||"100%",position:"absolute",top:!0,padding:3,alignItems:26===L?"end":"center",justifyContent:"center",children:(0,y.jsxs)(g.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[t>200?(0,y.jsx)(g.X6,{size:"md",align:"center",color:"white",children:B}):(0,y.jsx)(g.xv,{align:"center",color:"white",weight:"bold",children:B}),N&&26===L&&(0,y.jsxs)(g.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,y.jsx)(g.xu,{marginEnd:2,children:(0,y.jsx)(n.Z,{outline:!0,size:"xs",src:N.image_small_url,name:N.full_name})}),(0,y.jsx)(g.xv,{size:"sm",color:"white",children:N.full_name})]})]})}),E.isAuth&&E.isEmployee&&w?(0,y.jsx)(g.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,y.jsx)(f,{handleReport:x,viewType:p,viewParameter:m,imgSignature:C||"",isVisible:e})}):null]})})})}},660316:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(667294),n=r(883119),s=r(785893);const i={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}};function a({backgroundColor:e,children:t,coverImage:r,height:a,id:l,isHovered:d,onMouseEnter:c,onMouseLeave:u,onClick:p,url:h,width:m,disableTabIndex:g}){var y,v;const[x,f]=(0,o.useState)(!1),b=()=>{c?c():f(!0)},_=()=>{u?u():f(!1)},T=d||x;return(0,s.jsx)(n.iP,{role:"link",href:h,onBlur:_,onMouseLeave:_,onFocus:b,onMouseEnter:b,onTap:()=>{null==p||p(l)},rounding:4,tabIndex:g?-1:void 0,children:(0,s.jsx)(n.zd,{rounding:4,width:m||"100%",height:a,children:null!=r&&r.url?(0,s.jsxs)(n.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(y=r.height)&&void 0!==y?y:1,naturalWidth:null!==(v=r.width)&&void 0!==v?v:1,role:"presentation",src:r.url,children:[(0,s.jsx)(n.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:T?i.hoverOverlay:i.bubbleOverlay}}),"function"==typeof t?t({isHovered:T}):t]}):(0,s.jsx)(n.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{backgroundColor:e}}})})})}},454822:(e,t,r)=>{r.d(t,{Z:()=>p});var o=r(667294);const n={backgroundColor:"transparent"},s={backgroundColor:"rgba(216, 216, 216, 0.37)"},i={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},a={outline:"0"};var l=r(883119),d=r(785893);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends o.Component{constructor(...e){super(...e),c(this,"state",{hovered:!1}),c(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),c(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{backgroundHaloSize:e,onClick:t,color:r="lightGray"}=this.props,o={height:e,width:e},c={border:0,display:"block",background:"transparent",cursor:"pointer",...a},u={...i,...n,...this.state.hovered?s:{}};return(0,d.jsx)("button",{type:"button",style:c,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:(0,d.jsx)("div",{style:{...o,...u},children:(0,d.jsx)(l.xu,{rounding:"circle",children:(0,d.jsx)(l.JO,{accessibilityLabel:"",icon:"flag",size:e/2,color:r})})})})}}const p=u},378351:(e,t,r)=>{r.d(t,{X:()=>c,f:()=>d});var o=r(667294);function n(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var s=r(487889),i=r(8720),a=r(785893);const{Provider:l,useHook:d}=(0,s.Z)("ReportData");function c({children:e}){const[t,r]=(0,o.useReducer)(n,null),s=(0,o.useMemo)((()=>({dismiss:()=>r({type:"REPORT_CONTENT_DISMISS"}),reportComment:(e,t,o)=>r({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:o,type:"aggregatedComment"}}),reportImage:(e,t,o)=>r({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:o,type:"pin"}}),reportPin:(e,t,o)=>{const{id:n,videos:s}=e,a=(0,i.VX)(e),l=(0,i.jL)(e);let d;if((0,i.iR)(s)&&s){const{video_list:e={}}=s,t=e[Object.keys(e)[0]];d=t&&t.duration}r({type:"REPORT_CONTENT_SHOW",payload:{id:n,isProduct:a,isPromoted:l,videoDuration:d,viewParameter:t,viewType:o,type:"pin"}})}})),[r]);return(0,a.jsx)(l,{value:{reportData:t,...s},children:e})}},796874:(e,t,r)=>{r.d(t,{B:()=>i,Z:()=>a});var o=r(256191),n=r(147064);const s=[];function i(e){let t;try{t=JSON.stringify({errorObj:e})}catch(l){t=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}const r=(i={report_context:JSON.stringify({current_url:window.location.href,client_version:"a84056c"}),report_data:t},Object.keys(i).map((e=>e+"="+encodeURIComponent(i[e]))).join("&"));var i;const a=window.btoa(r);if(-1===s.indexOf(a)){const e=new XMLHttpRequest;e.open("post","/_/_/logClientError/",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");const t=(0,n.H)();t&&e.setRequestHeader("X-Pinterest-PWS-Handler",t),e.setRequestHeader("X-CSRFToken",function(e){const t=("; "+document.cookie).split("; "+e.name+"=");return 2===t.length?t.pop().split(";").shift():""}(o.fS)),e.send(r),s.push(a)}s.length>100&&s.shift()}function a(){window.addEventListener("error",(e=>{const t=e.error||{};i({name:t.name,message:t.message||e.message,stack:t.stack,filename:e.filename,line:e.lineno,column:e.colno})})),window.addEventListener("unhandledrejection",(e=>{var t,r,o,n,s;if(!((null==e?void 0:e.reason)instanceof Error))return;const{reason:a}=e,l="string"==typeof(null==a?void 0:a.message)?a.message:String(a);i({name:null!==(t=null==a?void 0:a.name)&&void 0!==t?t:"unhandledrejection",message:l,message_detail:null==a?void 0:a.message_detail,original_message:null==a?void 0:a.original_message,stack:null==a?void 0:a.stack,filename:null==a?void 0:a.fileName,line:null!==(r=null!==(o=null==a?void 0:a.lineno)&&void 0!==o?o:null==a?void 0:a.line)&&void 0!==r?r:null==a?void 0:a.lineNumber,column:null!==(n=null!==(s=null==a?void 0:a.column)&&void 0!==s?s:null==a?void 0:a.colno)&&void 0!==n?n:null==a?void 0:a.columnNumber})}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/40205-95c79d73efe52c84.mjs.map